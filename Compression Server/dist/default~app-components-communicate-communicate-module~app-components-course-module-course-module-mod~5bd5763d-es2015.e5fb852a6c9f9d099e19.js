(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{a5fw:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("lJxs"),o=n("tk/3"),s=n("fXoL"),r=n("xf7K"),a=n("wd/R"),h=function(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let p=(()=>{let t=class{constructor(t,e){this.http=t,this.auth=e,this.baseUrl="",this.auth.currentAuthKey.subscribe(t=>{this.Authorization=t,this.headers=new o.e({"Content-Type":"application/json",Authorization:this.Authorization})}),this.auth.currentInstituteId.subscribe(t=>{this.institute_id=t}),this.baseUrl=this.auth.getBaseUrl()}fetchSchedWidgetData(t){let e=this.baseUrl+"/api/v1/dashboard/admin//todayClassSchedule/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchFeeWidgetData(t){t.institute_id=this.institute_id;let e=this.baseUrl+"/api/v1/studentWise/fee/feesStats/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getSettings(){let t=this.baseUrl+"/api/v1/institute/settings/"+this.institute_id;return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getInstituteSettings(){let t=this.baseUrl+"/api/v1/institutes/"+this.institute_id;return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllplan(){let t=this.baseUrl+"/api/v1/proctur/getAllPlans";return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllocatedStorageDetails(){let t=this.baseUrl+"/api/v1/instFileSystem/getUsedSpace/"+this.institute_id;return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAttendance(t){let e=this.baseUrl+"/api/v1/attendance";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllteachers(){let t=this.baseUrl+"/api/v1/teachers/all/"+this.institute_id+"?active=Y";return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}updateAttendance(t){let e=this.baseUrl+"/api/v1/attendance";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}cancelClassSchedule(t){let e=this.baseUrl+"/api/v1/batchClsSched/cancel";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}cancelCourseSchedule(t){t.requested_date=a(t.requested_date).format("YYYY-MM-DD");let e=this.baseUrl+"/api/v1/courseClassSchedule/cancelMasterClassSchedule";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}cancelBatchSchedule(t){let e=this.baseUrl+"/api/v1/batchClsSched/cancel";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}notifyStudentSchedule(t){let e=this.baseUrl+"/api/v1/coursePlanner/notify";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}reScheduleClass(t){let e=this.baseUrl+"/api/v1/batchClsSched/reschedule";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchCourseLevelWidgetData(t){t.requested_date=a(t.requested_date).format("YYYY-MM-DD");let e=this.baseUrl+"/api/v1/courseClassSchedule/fetchMasterCourseDetails/todaySchedule";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchCourseAttendance(t){let e=this.baseUrl+"/api/v1/attendance/course";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}updateCourseAttendance(t){let e=this.baseUrl+"/api/v1/attendance/course";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}remindCourseLevel(t){t.requested_date=a(t.requested_date).format("YYYY-MM-DD");let e=this.baseUrl+"/api/v1/courseClassSchedule/sendCourseMasterReminder";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getListOfTopics(t){let e=this.baseUrl+"/api/v1/topic_manager/getAllTopics/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchCombinedData(t,e){let n=this.baseUrl+"/api/v1/batches/fetchCombinedBatchData/"+this.institute_id+"?standard_id="+t+"&subject_id="+e+"&assigned=Y";return this.http.get(n,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchStudentListData(t){let e=this.baseUrl+"/api/v1//studentBatchMap/batches/"+t;return this.http.post(e,"",{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}saveMessageTOServer(t){let e=this.baseUrl+"/api/v1/notification/message/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllActiveStudentList(){let t=this.baseUrl+"/api/v1/students/all/"+this.institute_id+"?active=Y";return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllTeacherList(){let t=this.baseUrl+"/api/v1/teachers/all/"+this.institute_id+"?active=Y";return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllInActiveList(){let t=this.baseUrl+"/api/v1/students/all/"+this.institute_id+"?active=NA";return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllAluminiList(){let t=this.baseUrl+"/api/v1/archive/students/alumni/"+this.institute_id;return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getMessageList(t){let e=this.baseUrl+"/api/v1/notification/message/"+this.institute_id+"/all";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}sendNotification(t){t.institution_id=this.institute_id;let e=this.baseUrl+"/api/v1/alerts/config";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}sendPushNotificationToServer(t){t.institution_id=this.institute_id;let e=this.baseUrl+"/api/v1/pushNotification/send";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}smsForAddDownload(t){let e=this.baseUrl+"/api/v1/profiles/sendAPPSMS/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllMasterCourse(){let t=this.baseUrl+"/api/v1/courseMaster/fetch/"+this.institute_id+"/all";return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getAllCourse(t){let e=this.baseUrl+"/api/v1/courseMaster/fetch/"+this.institute_id+"/"+t;return this.http.get(e,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getStudentListOfCourse(t){let e=this.baseUrl+"/api/v1/studentBatchMap/manageBatchStudent/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getMasterCourseDetails(t){t.requested_date=a(t.requested_date).format("YYYY-MM-DD"),t.inst_id=this.institute_id;let e=this.baseUrl+"/api/v1/courseClassSchedule/fetch";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getExamSchedule(t){let e=this.baseUrl+"/api/v1/dashboard/admin/studentExamSchedules/"+this.institute_id;return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}cancelExamSchedule(t){let e=this.baseUrl+"/api/v1/batchExamSched/cancel";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}notifyStudentExam(t){let e=this.baseUrl+"/api/v1/batchExamSched/notify/"+this.institute_id+"/"+t;return this.http.get(e,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}sendReminder(t){t.inst_id=this.institute_id,t.requested_date=a(t.requested_date).format("YYYY-MM-DD");let e=this.baseUrl+"/api/v1/courseExamSchedule/sendReminder";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchStudentList(t){let e=this.baseUrl+"/api/v1/attendance/exam";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}markAttendance(t){let e=this.baseUrl+"/api/v1/attendance/exam";return this.http.put(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}fetchStudentExamDetails(t,e){let n=this.baseUrl+"/api/v1/StdExam/"+t+"?schd_id="+e;return this.http.get(n,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}updateAttendanceDetails(t){let e=this.baseUrl+"/api/v1/StdExam";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getExamGrades(){let t=this.baseUrl+"/api/v1/grade_manager/getDetail/"+this.institute_id;return this.http.get(t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getCourseExamFromServer(t){t.start_date=a(t.start_date).format("YYYY-MM-DD"),t.end_date=a(t.end_date).format("YYYY-MM-DD"),t.inst_id=this.institute_id;let e=this.baseUrl+"/api/v1/courseExamSchedule/fetchExamSchld";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}markStudentAttendance(t){let e=this.baseUrl+"/api/v1/StdCourseExam/markAttendance";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}markStudentMarks(t){let e=this.baseUrl+"/api/v1/StdCourseExam/updateMarks";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}getExamStudentsList(t){let e=this.baseUrl+"/api/v1/StdCourseExam/"+t;return this.http.get(e,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}cancelExamScheduleCourse(t){t.requested_date=a(t.requested_date).format("YYYY-MM-DD"),t.inst_id=this.institute_id;let e=this.baseUrl+"/api/v1/courseExamSchedule/cancel";return this.http.post(e,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}changesSMSStatus(t,e){let n=this.baseUrl+"/api/v1/notification/message/"+this.institute_id+"/"+e;return this.http.put(n,t,{headers:this.headers}).pipe(Object(i.a)(t=>t,t=>t))}};return t.ctorParameters=()=>[{type:o.b},{type:r.a}],t=h([Object(s.Injectable)(),d("design:paramtypes",[o.b,r.a])],t),t})()},fB2i:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var i=n("mrSG"),o=n("fXoL"),s=n("ofXK"),r=n("3Pt+");function a(t,e){}const h=()=>{const t="undefined"!=typeof window?window:void 0;return t&&t.tinymce?t.tinymce:null};class d{constructor(){this.onBeforePaste=new o.EventEmitter,this.onBlur=new o.EventEmitter,this.onClick=new o.EventEmitter,this.onContextMenu=new o.EventEmitter,this.onCopy=new o.EventEmitter,this.onCut=new o.EventEmitter,this.onDblclick=new o.EventEmitter,this.onDrag=new o.EventEmitter,this.onDragDrop=new o.EventEmitter,this.onDragEnd=new o.EventEmitter,this.onDragGesture=new o.EventEmitter,this.onDragOver=new o.EventEmitter,this.onDrop=new o.EventEmitter,this.onFocus=new o.EventEmitter,this.onFocusIn=new o.EventEmitter,this.onFocusOut=new o.EventEmitter,this.onKeyDown=new o.EventEmitter,this.onKeyPress=new o.EventEmitter,this.onKeyUp=new o.EventEmitter,this.onMouseDown=new o.EventEmitter,this.onMouseEnter=new o.EventEmitter,this.onMouseLeave=new o.EventEmitter,this.onMouseMove=new o.EventEmitter,this.onMouseOut=new o.EventEmitter,this.onMouseOver=new o.EventEmitter,this.onMouseUp=new o.EventEmitter,this.onPaste=new o.EventEmitter,this.onSelectionChange=new o.EventEmitter,this.onActivate=new o.EventEmitter,this.onAddUndo=new o.EventEmitter,this.onBeforeAddUndo=new o.EventEmitter,this.onBeforeExecCommand=new o.EventEmitter,this.onBeforeGetContent=new o.EventEmitter,this.onBeforeRenderUI=new o.EventEmitter,this.onBeforeSetContent=new o.EventEmitter,this.onChange=new o.EventEmitter,this.onClearUndos=new o.EventEmitter,this.onDeactivate=new o.EventEmitter,this.onDirty=new o.EventEmitter,this.onExecCommand=new o.EventEmitter,this.onGetContent=new o.EventEmitter,this.onHide=new o.EventEmitter,this.onInit=new o.EventEmitter,this.onLoadContent=new o.EventEmitter,this.onNodeChange=new o.EventEmitter,this.onPostProcess=new o.EventEmitter,this.onPostRender=new o.EventEmitter,this.onPreInit=new o.EventEmitter,this.onPreProcess=new o.EventEmitter,this.onProgressState=new o.EventEmitter,this.onRedo=new o.EventEmitter,this.onRemove=new o.EventEmitter,this.onReset=new o.EventEmitter,this.onSaveContent=new o.EventEmitter,this.onSetAttrib=new o.EventEmitter,this.onObjectResizeStart=new o.EventEmitter,this.onObjectResized=new o.EventEmitter,this.onObjectSelected=new o.EventEmitter,this.onSetContent=new o.EventEmitter,this.onShow=new o.EventEmitter,this.onSubmit=new o.EventEmitter,this.onUndo=new o.EventEmitter,this.onVisualAid=new o.EventEmitter}}d.\u0275fac=function(t){return new(t||d)},d.\u0275dir=o["\u0275\u0275defineDirective"]({type:d,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),Object(i.a)([Object(o.Output)()],d.prototype,"onBeforePaste",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onBlur",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onClick",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onContextMenu",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onCopy",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onCut",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDblclick",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDrag",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDragDrop",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDragEnd",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDragGesture",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDragOver",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDrop",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onFocus",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onFocusIn",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onFocusOut",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onKeyDown",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onKeyPress",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onKeyUp",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseDown",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseEnter",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseLeave",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseMove",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseOut",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseOver",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onMouseUp",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onPaste",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onSelectionChange",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onActivate",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onAddUndo",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onBeforeAddUndo",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onBeforeExecCommand",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onBeforeGetContent",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onBeforeRenderUI",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onBeforeSetContent",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onChange",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onClearUndos",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDeactivate",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onDirty",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onExecCommand",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onGetContent",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onHide",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onInit",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onLoadContent",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onNodeChange",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onPostProcess",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onPostRender",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onPreInit",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onPreProcess",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onProgressState",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onRedo",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onRemove",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onReset",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onSaveContent",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onSetAttrib",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onObjectResizeStart",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onObjectResized",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onObjectSelected",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onSetContent",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onShow",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onSubmit",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onUndo",void 0),Object(i.a)([Object(o.Output)()],d.prototype,"onVisualAid",void 0);const p=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],c=(t,e)=>{p.forEach(n=>{const i=t[n];e.on(n.substring(2),n=>t.ngZone.run(()=>i.emit({event:n,editor:e})))})};let u=0;const l=t=>{const e=(new Date).getTime(),n=Math.floor(1e9*Math.random());return u++,t+"_"+n+u+String(e)},b=t=>void 0!==t&&"textarea"===t.tagName.toLowerCase(),O=t=>void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" "),v=(t,e)=>O(t).concat(O(e)),j=()=>{},m=t=>null==t,E=()=>({listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1}),g=()=>{let t=E();return{load:(e,n,i)=>{t.scriptLoaded?i():(t.listeners.push(i),e.getElementById(t.scriptId)||((t,e,n,i)=>{const o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;const s=()=>{o.removeEventListener("load",s),i()};o.addEventListener("load",s),e.head&&e.head.appendChild(o)})(t.scriptId,e,n,()=>{t.listeners.forEach(t=>t()),t.scriptLoaded=!0}))},reinitialize:()=>{t=E()}}},y=g(),C=new o.InjectionToken("TINYMCE_SCRIPT_SRC"),f={provide:r.NG_VALUE_ACCESSOR,useExisting:Object(o.forwardRef)(()=>S),multi:!0};let S=class extends d{constructor(t,e,n,i){super(),this.platformId=n,this.tinymceScriptSrc=i,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change keyup undo redo",this.onTouchedCallback=j,this.onChangeCallback=j,this._elementRef=t,this.ngZone=e,this.initialise=this.initialise.bind(this)}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&this._editor.setMode(t?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(m(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this._editor?this._editor.setMode(t?"readonly":"design"):t&&(this.init=Object.assign({},this.init,{readonly:!0}))}ngAfterViewInit(){Object(s.isPlatformBrowser)(this.platformId)&&(this.id=this.id||l("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==h()?this.initialise():this._element&&this._element.ownerDocument&&y.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==h()&&h().remove(this._editor)}createElement(){const t="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?t:"textarea"),this._element&&(this._element.id=this.id,b(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const t=Object.assign({},this.init,{target:this._element,inline:this.inline,readonly:this.disabled,plugins:v(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:t=>{this._editor=t,t.on("init",e=>{this.initEditor(t)}),c(this,t),this.init&&"function"==typeof this.init.setup&&this.init.setup(t)}});b(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{h().init(t)})}getScriptSrc(){return m(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){t.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),t.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(t.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),this.onChangeCallback(t.getContent({format:this.outputFormat}))})}};S.\u0275fac=function(t){return new(t||S)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](o.NgZone),o["\u0275\u0275directiveInject"](o.PLATFORM_ID),o["\u0275\u0275directiveInject"](C,8))},S.\u0275cmp=o["\u0275\u0275defineComponent"]({type:S,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar"},features:[o["\u0275\u0275ProvidersFeature"]([f]),o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,template:function(t,e){1&t&&o["\u0275\u0275template"](0,a,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),S.ctorParameters=()=>[{type:o.ElementRef},{type:o.NgZone},{type:Object,decorators:[{type:o.Inject,args:[o.PLATFORM_ID]}]},{type:String,decorators:[{type:o.Optional},{type:o.Inject,args:[C]}]}],Object(i.a)([Object(o.Input)()],S.prototype,"disabled",null),Object(i.a)([Object(o.Input)()],S.prototype,"cloudChannel",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"apiKey",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"init",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"id",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"initialValue",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"outputFormat",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"inline",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"tagName",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"plugins",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"toolbar",void 0),Object(i.a)([Object(o.Input)()],S.prototype,"modelEvents",void 0),S=Object(i.a)([Object(i.c)(2,Object(o.Inject)(o.PLATFORM_ID)),Object(i.c)(3,Object(o.Optional)()),Object(i.c)(3,Object(o.Inject)(C))],S);let w=class{};w.\u0275mod=o["\u0275\u0275defineNgModule"]({type:w}),w.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||w)},imports:[[s.CommonModule,r.FormsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&o["\u0275\u0275setNgModuleScope"](w,{declarations:function(){return[S]},imports:function(){return[s.CommonModule,r.FormsModule]},exports:function(){return[S]}})}}]);