(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{IO08:function(t,e,n){"use strict";n.r(e),e.default='/* ===============================header colors=======================*/\n.table-format-first .table-responsive table th,\n.table-format-first .table-responsive table td {\n  text-align: center;\n  padding: 10px 5px;\n}\n.table-format-first .table-responsive table th {\n  text-transform: capitalize;\n  font-size: 14px;\n}\n.table-format-first .table-responsive table tbody tr td .field-checkbox-wrapper {\n  display: inline-block;\n  overflow: initial;\n  margin-left: 0;\n  width: auto;\n  position: relative;\n  background: transparent;\n}\n.table-format-first .table-responsive table tbody tr td .field-checkbox-wrapper .form-checkbox {\n  z-index: 2;\n}\n.table-format-first .table-responsive table tbody tr td .field-checkbox-wrapper .form-checkbox + label {\n  font-size: 16px;\n  margin-left: 7px;\n  font-weight: 600;\n  vertical-align: middle;\n}\n.table-format-first .table-responsive table tbody tr td .field-checkbox-wrapper .form-checkbox + label:after, .table-format-first .table-responsive table tbody tr td .field-checkbox-wrapper .form-checkbox + label:before {\n  z-index: 1;\n}\n.table-format-first .table-responsive table tbody tr td .field-checkbox-wrapper:after {\n  content: \'\';\n  width: 20px;\n  height: 20px;\n  background: #fff;\n  left: 0;\n  top: 0;\n  position: absolute;\n}\n.table-format-first .table-responsive table tbody tr td .fa-trash-o {\n  color: #f44336;\n  font-size: 20px;\n}\n.table-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-top: 10px;\n}\n.table-container .heading-container {\n  background: #e0eaec;\n  display: flex;\n  flex-direction: row;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: left;\n  padding: 10px;\n  border: 1px solid #ccc;\n  display: -webkit-box;\n  -webkit-box-align: center;\n}\n.table-container .heading-container .heading-item {\n  width: 10%;\n  text-align: center;\n}\n.table-container .value-outer-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 53vh;\n  max-height: 54vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n  border: 1px solid #ccc;\n}\n.table-container .value-outer-container .value-container {\n  display: flex;\n  flex-direction: row;\n  text-align: left;\n  padding: 4px;\n  font-size: 12px;\n  border-bottom: 1px solid #ccc;\n  display: -webkit-box;\n  -webkit-box-align: center;\n  border-top: none;\n}\n.table-container .value-outer-container .value-container .value-item {\n  width: 10%;\n  text-align: center;\n}\n.middle-section {\n  padding: 1%;\n}\nth {\n  background-color: #e0eaec !important;\n}\n.bulk-update-report {\n  max-height: 400px !important;\n  overflow-y: scroll !important;\n  overflow-x: hidden !important;\n  max-width: 98% !important;\n}\n#bulk-head {\n  padding-top: 20px;\n}\n.topic_details {\n  padding: .6em;\n}\n.topic_details .topic_filter_div {\n  padding-bottom: 1rem;\n}\n.topic_details .topic_filter_div .topic_title {\n  font-size: 14px;\n  font-weight: 600;\n}\n.topic_details .filter_div {\n  padding: 1rem;\n  border-radius: 4px;\n}\n.topic_details .field-wrapper {\n  margin-left: 20px;\n  padding-top: 0;\n  display: inline-block;\n}\n.topic_details .dropdown-div {\n  width: 160px;\n}\n.topic_details .dropdown-div .dropdown {\n  width: 100%;\n  height: 30px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n.modal-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.body-container {\n  display: flex;\n  flex-direction: column;\n}\n.body-container .field-wrapper {\n  margin-left: 0px;\n  padding-top: 0;\n  display: inline-block;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.body-container .dropdown-div .dropdown {\n  width: 50%;\n  height: 30px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n.link, a {\n  text-decoration: none;\n  color: black;\n}\n.bulk-enquiry-form {\n  padding-top: 30px;\n}\n.bulk-enquiry-form table thead tr {\n  line-height: 25px;\n}\n.bulk-enquiry-form table tbody tr {\n  line-height: 20px;\n}\n.bulk-enquiry-form table tbody tr td {\n  text-overflow: ellipsis;\n}\n.bulk-enquiry-form table tbody tr td .download-icon {\n  cursor: pointer;\n}\n.bulk-enquiry-form table tbody tr td .download-icon::after {\n  content: "\\f0ed";\n  font-family: FontAwesome;\n}\n.download-icon {\n  cursor: pointer;\n  color: #0084f6;\n  margin-left: 5px;\n}\n.fadeIn {\n  opacity: 1;\n  visibility: visible;\n}\n.bulk-header .row {\n  margin: 0px 15px;\n}\n.file-upload-box {\n  padding: 35px 20px;\n  max-width: 100%;\n}\n.file-upload-box h5 {\n  font-weight: 600;\n  margin-bottom: 30px;\n  font-size: 15px;\n}\n.file-upload-box .select-file-upload ul li label {\n  display: block;\n  font-size: 15px;\n  margin-bottom: 10px;\n}\n.file-upload-box .select-file-upload ul li .choose-file {\n  position: relative;\n  margin-bottom: 15px;\n}\n.file-upload-box .select-file-upload ul li .choose-file input[type="file"] {\n  opacity: 0;\n  z-index: 1;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  cursor: pointer;\n}\n.file-upload-box .select-file-upload ul li .choose-file input[type="text"] {\n  height: 34px;\n  border: 1px solid #ccc;\n  width: 77%;\n  box-sizing: border-box;\n  padding: 5px 10px;\n  font-size: 14px;\n}\n.file-upload-box .select-file-upload ul li .choose-file .btn {\n  width: 21%;\n  float: right;\n  margin: 0;\n}\n.file-upload-box .drag-drop-box {\n  margin-top: 50px;\n}\n.file-upload-box .drag-drop-box .dropable-area {\n  width: 100%;\n  border: 1px solid #ccc;\n  height: 150px;\n  cursor: pointer;\n  text-align: center;\n  line-height: 150px;\n  font-size: 16px;\n  margin-bottom: 10px;\n}\n.file-upload-box .file-uploaded {\n  margin: 25px 0 30px;\n  font-weight: 600;\n  font-size: 16px;\n}\n.file-upload-box .file-uploaded span {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.file-upload-box .file-uploaded span svg {\n  margin-right: 10px;\n  width: 15px;\n}\n.file-upload-box .file-uploaded span svg .cls-1 {\n  stroke: #888;\n  stroke-width: 2;\n}\n.file-upload-box .file-uploaded span svg:hover .cls-1 {\n  stroke: #0084f6;\n}\n.btn.fullBlue {\n  padding: 6px 10px;\n}\n.progress-bar-wrapper {\n  float: left;\n  width: 80%;\n}\n.upload-bar {\n  position: relative;\n  height: 8px;\n  width: 100%;\n  background: #ccc;\n  border-radius: 0;\n  overflow: hidden;\n  margin: 10px 0 5px;\n}\n.upload-bar > div {\n  position: absolute;\n  height: 100%;\n  width: 0%;\n  left: 0;\n  background: blue;\n  top: 0;\n  border-radius: 0;\n  transition: all 0.5s ease;\n}\n.cancel-upload {\n  float: right;\n  cursor: pointer;\n  margin: 4px 0 0 0px;\n}\n.upload-another {\n  margin: 15px 0px;\n}\n.file-wrapper {\n  padding-left: 0px;\n}\n::ng-deep .ui-fileupload {\n  width: 100%;\n  cursor: pointer;\n}\n::ng-deep .ui-fileupload-buttonbar {\n  background: #0060A3;\n  width: 100%;\n}\n::ng-deep .ui-fileupload-content {\n  min-height: 300px;\n  width: 100%;\n  padding: 5px;\n  border-top: none;\n  border-right: 3px dashed #eaeaeb;\n  border-bottom: 3px dashed #eaeaeb;\n  border-left: 3px dashed #eaeaeb;\n  cursor: pointer;\n}\n::ng-deep .ui-fileupload-content::after {\n  content: "Drag & Drop Files Here";\n  color: rgba(0, 0, 0, 0.09);\n  position: absolute;\n  top: 35%;\n  left: 25%;\n  font-size: 36px;\n}\nth {\n  font-size: 14px !important;\n}\ntd {\n  font-size: 12px;\n}\n#uploadReport .modal-dialog {\n  width: 700px;\n  margin-left: 30%;\n  top: 5%;\n}\n#uploadReport .modal-dialog .table-v {\n  height: 60vh;\n  overflow-y: auto;\n}\n@media screen and (max-width: 850px) {\n  .topic_details .filter_div {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n  .topic_details .filter_div .field-wrapper {\n    margin-left: 0px;\n    width: 49%;\n  }\n  .topic_details .filter_div .field-wrapper .dropdown-div {\n    width: 100%;\n  }\n  .topic_details .filter_div .pull-right {\n    display: flex;\n    justify-content: space-between;\n    float: none !important;\n    width: 100%;\n  }\n  .topic_details .filter_div .pull-right .btn.fullBlue {\n    margin-right: 0px;\n  }\n  #uploadReport .modal-dialog {\n    width: 100%;\n    margin-left: 0%;\n    top: 0%;\n    height: 96vh;\n  }\n  #uploadReport .modal-dialog .table-v {\n    height: 83vh;\n    /* Force table to not be like tables anymore */\n    /* Hide table headers (but not display: none;, for accessibility) */\n  }\n  #uploadReport .modal-dialog .table-v table,\n  #uploadReport .modal-dialog .table-v thead,\n  #uploadReport .modal-dialog .table-v tbody,\n  #uploadReport .modal-dialog .table-v th,\n  #uploadReport .modal-dialog .table-v td,\n  #uploadReport .modal-dialog .table-v tr,\n  #uploadReport .modal-dialog .table-v .tableBodyScroll thead,\n  #uploadReport .modal-dialog .table-v tbody tr {\n    display: block;\n  }\n  #uploadReport .modal-dialog .table-v thead tr {\n    display: none;\n  }\n  #uploadReport .modal-dialog .table-v tr {\n    margin-top: 10px;\n    border: 1px solid #eee;\n  }\n  #uploadReport .modal-dialog .table-v td {\n    /* Behave  like a "row" */\n    border: none;\n    min-height: 22px;\n    padding: 0px 4px;\n    display: flex;\n  }\n  #uploadReport .modal-dialog .table-v td > label {\n    width: 45%;\n    color: #8b8b8b;\n    text-align: left;\n    padding-left: 6px;\n  }\n}\n'},LGGs:function(t,e,n){"use strict";n.r(e),e.default=""},NGzr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("VYqR"))},Pe5I:function(t,e,n){"use strict";n.r(e),e.default='<div class="row">\r\n  <div class="col-md-12 subject-wrapper">\r\n    <div class="subject-item" *ngFor="let topic of dataList;">\r\n      <div class="subject-label row border-radius-0">\r\n        <div class="col-md-4">\r\n          <i class="fa fa-chevron-down " (click)="toggleObject(topic)" *ngIf="topic.subTopic.length && topic.isExpand"></i>\r\n          <i class="fa fa-chevron-up " (click)="toggleObject(topic)" *ngIf="topic.subTopic.length && (!topic.isExpand)"></i>\r\n         {{topic.topicId}} &nbsp; {{topic.topicName}}\r\n        </div>\r\n        <div class="col-md-4">\r\n          <span style="font-weight: 600;">Est. Time :</span> &nbsp; {{topic.estimated_time}}\r\n        </div>\r\n        <div class="col-md-2">\r\n          <span style="font-weight: 600;">Priority :</span> &nbsp; {{topic.priority_order}}\r\n        </div>\r\n        <div class="pull-right">\r\n          <i class="fa fa-plus-circle btn_action pad_icon" (click)="addSubtopic(topic)" title="Add subTopic " aria-hidden="true"></i>\r\n          <i class="fa fa-pencil btn_action pad_icon" (click)="eventAction(\'Edit\',topic)" title="Edit"></i>\r\n          <i class="fa fa-trash-o btn_delete pad_icon" (click)="eventAction(\'Delete\',topic)" title="Delete"></i>\r\n        </div>\r\n\r\n        <div class="row col-md-12 p-0" *ngIf="topic.isExpand">\r\n          <div class="col-md-12 topic-material-data">\r\n            <ng-container *ngTemplateOutlet="recursiveAddNodes; context:{$implicit: topic.addSubtopic,topic:topic, level: 1}"></ng-container>\r\n            <ng-container *ngTemplateOutlet="recursiveNodes; context:{$implicit: topic.subTopic, level: 1}"></ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <ng-template #recursiveAddNodes let-addSubtopic  let-topicData="topic" let-level="level">\r\n    <div class="row topic-row" style="padding: 1em 0em 0em .6em;" *ngFor="let topic of addSubtopic">\r\n      <div [class]="\'subject-label row\'" style="border: 1px solid #0080f6; padding: 0.3em 0em;">\r\n        <div class="col-md-4">\r\n          <div class="dropdown-div">\r\n            <input class="dropdown" [(ngModel)]="topic.name" placeholder="Enter Subtopic Name" type="text">\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4">\r\n        </div>\r\n        <div class="col-md-2">\r\n          <input class="dropdown" [(ngModel)]="topic.priority_order" placeholder="Enter Priority of Topic" type="text" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)">\r\n        </div>\r\n        <div class="pull-right" style=" padding-right: 1em;">\r\n          <button class="btn" [disabled]="disableAddBtn" (click)="addEditSubtopicDetails(topic,\'Subtopic\')" style="padding: 0px 7px; font-size: 12px; height: 25px;">\r\n            <i class="fa fa-plus" style="padding: 0px 5px" aria-hidden="true"></i>Add</button>\r\n          <button class="btn_delete">\r\n            <i aria-hidden="true" (click)="cancelAdd(topicData)" class="fa fa-times-circle delete_icon"  title="Cancel"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template #recursiveNodes let-subTopics let-level="level">\r\n    <div class="row topic-row" style="padding: 1em 0em 0em .6em;" *ngFor="let topic of subTopics">\r\n      <div [class]="\'subject-label row border-radius-\'+level" *ngIf="!topic.isEdit">\r\n        <div class="col-md-4">\r\n          <i class="fa fa-chevron-down " (click)="toggleObject(topic)" *ngIf="topic.subTopic.length && topic.isExpand"></i>\r\n          <i class="fa fa-chevron-up " (click)="toggleObject(topic)" *ngIf="topic.subTopic.length && (!topic.isExpand)"></i>\r\n          &nbsp;{{topic.topicId}} &nbsp; {{topic.topicName}}\r\n        </div>\r\n        <div class="col-md-4">\r\n        </div>\r\n        <div class="col-md-2">\r\n          <span style="font-weight: 600;">Priority :</span> &nbsp; {{topic.priority_order}}\r\n        </div>\r\n        <div class="pull-right">\r\n          <i class="fa fa-plus-circle btn_action pad_icon" (click)="addSubtopic(topic)" title="Add subTopic " aria-hidden="true"></i>\r\n          <i class="fa fa-pencil btn_action pad_icon" (click)="EditSubtopic(topic)" title="Update Topic"></i>\r\n          <i class="fa fa-trash-o btn_delete pad_icon" (click)="eventAction(\'Delete\',topic)" title="Delete Topic"></i>\r\n        </div>\r\n        <div class="row col-md-12 p-0" *ngIf="topic.isExpand">\r\n          <div class="col-md-12 topic-material-data">\r\n            <ng-container *ngTemplateOutlet="recursiveAddNodes; context:{$implicit: topic.addSubtopic, topic:topic,level: level+1}"></ng-container>\r\n            <ng-container *ngTemplateOutlet="recursiveNodes; context:{$implicit: topic.subTopic, level: level+1 }"></ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row topic-row" style="padding: 1em 0em 0em .6em;" *ngIf="topic.isEdit">\r\n        <div [class]="\'subject-label row\'" style="border: 1px solid #0080f6;    padding: 0.3em 0em;">\r\n          <div class="col-md-4">\r\n            <div class="dropdown-div">\r\n              <input class="dropdown" [(ngModel)]="topic.name" placeholder="Enter Subtopic Name" type="text">\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n          </div>\r\n          <div class="col-md-2">\r\n              <input class="dropdown" [(ngModel)]="topic.priority_order" placeholder="Enter Priority of Subtopic" type="text">\r\n          </div>\r\n          <div class="pull-right" style=" padding-right: 1em;">\r\n            <button class="btn" (click)="addEditSubtopicDetails(topic,\'EditSubtopic\')" style="padding: 0px 7px; font-size: 12px; height: 25px;">\r\n              Update</button>\r\n            <button class="btn" (click)="clearObject(topic)" style="padding: 0px 7px; font-size: 12px; height: 25px;">\r\n              Cancel</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n'},VZOS:function(t,e,n){"use strict";n.r(e),e.default="<router-outlet></router-outlet>"},hyps:function(t,e,n){"use strict";n.r(e),n.d(e,"TopicModule",(function(){return M}));var i=n("fXoL"),a=n("ofXK"),o=n("tyNb"),r=n("xf7K"),d=n("N+K7"),s=n("oWFQ"),l=n("mMnA"),p=function(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){return t&&t.__esModule?t:{default:t}};let h=(()=>{let t=class{constructor(t,e,n){this._http=t,this.auth=e,this._toastPopup=n,this.isProfessional=!1,this.option_type="Add",this.subjectData=[],this.subjectTempData=[],this.standardData=[],this.subjectList=[],this.teacher_id=-1,this.addTopic=new l.a,this.disableDeleteBtn=!1,this.filterData={standard_id:-1,subject_id:-1},this.auth.currentInstituteId.subscribe(t=>{this.institute_id=t}),this.auth.institute_type.subscribe(t=>{this.isProfessional="LANG"==t}),console.log("model typ:",this.isProfessional)}ngOnInit(){3==sessionStorage.getItem("userType")&&(this.teacher_id=sessionStorage.getItem("login_teacher_id")),this.getAllStandards()}getAllSubjectList(t){this.subjectTempData=[];for(let e=0;e<this.standardData.length;e++)this.standardData[e].standard_id==this.addTopic.standard_id&&(this.subjectTempData=this.standardData[e].subject_list)}getAllSubjectListFromServer(t){this.subjectData=[],this.subjectList=[],this.filterData.subject_id=-1;for(let e=0;e<this.standardData.length;e++)this.standardData[e].standard_id==this.filterData.standard_id&&(this.subjectData=this.standardData[e].subject_list)}Update_Topic_Details(t,e){let n="edit"==t?this.addTopic:e;this.auth.showLoader();let i="/api/v1/topic_manager/update/"+this.institute_id;this._http.putData(i,n).subscribe(t=>{this.auth.hideLoader(),200==t.statusCode?(console.log(t),this.addTopic=new l.a,this.option_type="Add",$("#addTopic").modal("hide"),this._toastPopup.showErrorMessage("success","","Topic Updated Successfully"),this.getTopicDetails(null)):this._toastPopup.showErrorMessage("error","","something went wrong please try again")},t=>{this.auth.hideLoader(),console.log(t),this._toastPopup.showErrorMessage("error","",t.error.message)})}getAllStandards(){let t="/api/v1/standards/standard-subject-list/"+this.institute_id+"?is_active=Y&is_subject_required=true";this.auth.showLoader(),this._http.getData(t).subscribe(t=>{this.auth.hideLoader(),this.standardData=t.result,console.log(t.result)},t=>{this.auth.hideLoader(),console.log(t)})}clearObject(){this.addTopic=new l.a,this.option_type="Add"}clearFilter(){this.filterData={standard_id:-1,subject_id:-1}}eventAction(t){switch(console.log(t),t.option){case"Edit":this.editTopicDetails(t.data);break;case"EditSubtopic":{let e={name:t.data.name,parent_topic_id:t.data.parentTopicId,institute_topic_id:t.data.topicId,description:t.data.description,priority_order:t.data.priority_order};this.Update_Topic_Details("EditSubtopic",e);break}case"Delete":this.temp_object=t.data,$("#DeleteTopic").modal("show");break;case"Subtopic":{this.auth.showLoader();let e=t.data;e.subject_id=this.filterData.subject_id,e.standard_id=this.filterData.standard_id;let n="/api/v1/topic_manager/add/"+this.institute_id;this._http.postData(n,e).subscribe(t=>{this.auth.hideLoader(),this._toastPopup.showErrorMessage("success","","Subtopic added successfully"),-1!=this.filterData.standard_id&&-1!=this.filterData.subject_id&&this.getTopicDetails(null)},t=>{this.auth.hideLoader(),this._toastPopup.showErrorMessage("error","",t.error.message),console.log(t)})}}}deleteTopicObject(){this.disableDeleteBtn=!0;let t="/api/v1/topic_manager/"+this.institute_id+"/"+this.temp_object.topicId;this._http.deleteData(t,null).subscribe(t=>{this.auth.hideLoader(),$("#DeleteTopic").modal("hide"),this._toastPopup.showErrorMessage("success","","Topic Deleted Successfully"),this.getTopicDetails(null),this.disableDeleteBtn=!1},t=>{this.auth.hideLoader(),console.log(t),this._toastPopup.showErrorMessage("error","",t.error.message),this.disableDeleteBtn=!1})}editTopicDetails(t){this.auth.showLoader();let e="/api/v1/topic_manager/getTopic/"+this.institute_id+"/"+t.topicId;this._http.getData(e).subscribe(t=>{this.auth.hideLoader(),console.log(t),t?(this.addTopic=new l.a,this.addTopic=t,console.log(this.addTopic),this.option_type="Edit",this.getAllSubjectList(t.standard_id),$("#addTopic").modal("show")):this._toastPopup.showErrorMessage("error","","something went wrong please try again")},t=>{this.auth.hideLoader(),console.log(t),this._toastPopup.showErrorMessage("error","",t.error.message)})}Add_New_Topic_Details(){this.auth.showLoader();let t="/api/v1/topic_manager/add/"+this.institute_id;this._http.postData(t,this.addTopic).subscribe(t=>{this.auth.hideLoader(),this.addTopic=new l.a,this._toastPopup.showErrorMessage("success","","Topic Added Successfully"),$("#addTopic").modal("hide"),-1!=this.filterData.standard_id&&-1!=this.filterData.subject_id&&this.getTopicDetails("view"),console.log(t)},t=>{this.auth.hideLoader(),this._toastPopup.showErrorMessage("error","",t.error.message),console.log(t)})}getTopicDetails(t){if(-1==this.filterData.standard_id)return void this._toastPopup.showErrorMessage("error","","Select the standard");if(-1==this.filterData.subject_id)return void this._toastPopup.showErrorMessage("error","","Select the subject");this.auth.showLoader();let e="/api/v1/topic_manager/standards/"+this.filterData.standard_id+"/subjects/"+this.filterData.subject_id+"/topics";this._http.getData(e).subscribe(e=>{if(this.auth.hideLoader(),e)if("view"==t)this.subjectList=e,this.subjectList.forEach(t=>{t.addSubtopic=[]});else{for(let t=0;t<e.length;t++){if(e[t].isExpand=this.subjectList[t].isExpand,this.subjectList[t].addSubtopic[0]){let n=this.subjectList[t].addSubtopic[0];n.name=(n&&n.name,""),e[t].addSubtopic=this.subjectList[t].addSubtopic}else e[t].addSubtopic=[];this.expandAllTopic(e[t],this.subjectList[t])}this.subjectList=e}e.length&&null!=e||this._toastPopup.showErrorMessage("info","","No topics linked")},t=>{this.auth.hideLoader(),console.log(t)})}expandAllTopic(t,e){if(0!=t.subTopic.length)for(let n=0;n<t.subTopic.length;n++){let i=t.subTopic[n],a=null!=e?e.subTopic[n]:"";if(i.addSubtopic=a&&a.addSubtopic?a.addSubtopic:[],a&&a.addSubtopic&&a.addSubtopic[0]){let t=a.addSubtopic[0];t.name=(t&&t.name,""),i.addSubtopic=a.addSubtopic}else i.addSubtopic=[];i.isExpand=a&&a.isExpand,i.subTopic.length>0&&this.expandAllTopic(i,a)}}};return t.ctorParameters=()=>[{type:d.a},{type:r.a},{type:s.a}],t=p([Object(i.Component)({selector:"app-topic-tree",template:u(n("r5d/")).default,styles:[u(n("x/tp")).default]}),c("design:paramtypes",[d.a,r.a,s.a])],t),t})();var b=n("OHzG"),f=function(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(t){return t&&t.__esModule?t:{default:t}};let v=(()=>{let t=class{constructor(t,e,n,i,a){this.router=t,this._http=e,this.auth=n,this.commonService=i,this.msgService=a,this.progress=0,this.fileLoading="",this.isUploadingXls=!1,this.isProfessional=!1,this.subjectData=[],this.standardData=[],this.filterData={standard_id:-1,subject_id:-1},this.downloadTempData={standard_id:-1,subject_id:-1},this.templateSubjectData=[],this.bulkUploadRecords=[],this.auth.currentInstituteId.subscribe(t=>{this.institute_id=t}),this.auth.institute_type.subscribe(t=>{this.isProfessional="LANG"==t})}ngOnInit(){this.getAllStandards()}getAllStandards(){let t="/api/v1/standards/standard-subject-list/"+this.institute_id+"?is_active=Y&is_subject_required=true";this.auth.showLoader(),this._http.getData(t).subscribe(t=>{this.auth.hideLoader(),this.standardData=t.result},t=>{this.auth.hideLoader(),console.log(t)})}getAllSubjectListFromServer(t){this.subjectData=[],this.filterData.subject_id=-1;for(let e=0;e<this.standardData.length;e++)this.standardData[e].standard_id==this.filterData.standard_id&&(this.subjectData=this.standardData[e].subject_list)}getAllSubjectListForDownloadTemp(t){this.templateSubjectData=[],this.downloadTempData.subject_id=-1,this.auth.showLoader();let e="/api/v1/subjects/standards/"+t+"?active=Y";this._http.getData(e).subscribe(t=>{this.auth.hideLoader(),this.templateSubjectData=t,console.log(t)},t=>{this.auth.hideLoader(),console.log(t)})}downloadBulkTemplate(){if(-1!=this.filterData.standard_id&&-1!=this.filterData.subject_id){this.auth.showLoader();let t="/api/v1/topic_manager/"+this.filterData.subject_id+"/download-template";this._http.getData(t).subscribe(t=>{this.auth.hideLoader();var e=t.result;let n=this.commonService.convertBase64ToArray(e.document),i=(e.format,e.docTitle),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),r=document.getElementById("template_link");r.setAttribute("href",o),r.setAttribute("download",i),r.click(),this.downloadTempData.standard_id=-1,this.downloadTempData.subject_id=-1,$("#downloadTemplate").modal("hide")},t=>{this.auth.hideLoader(),console.log(t)})}else this.isProfessional?this.msgService.showErrorMessage("error","Please Select Category/Course and  Batch",""):this.msgService.showErrorMessage("error","Please Select standard and subject","")}fetchBulkUploadStatusData(){this.auth.showLoader();let t="/api/v1/bulkUpload/"+this.institute_id;this._http.postData(t,{func_type:"TopicBulkUpload"}).subscribe(t=>{this.auth.hideLoader(),this.bulkUploadRecords=t,this.bulkUploadRecords.length&&$("#uploadReport").modal("show")},t=>{this.auth.hideLoader()})}downloadSuccess(t){this.auth.showLoader();let e="/api/v1/bulkUpload/"+this.institute_id+"/success/download/"+t.list_id;this._http.getData(e).subscribe(e=>{var n=e;let i=this.commonService.convertBase64ToArray(n.document),a=(n.format,n.docTitle),o=t.list_id.toString(),r=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(r),s=document.getElementById("success"+o);null!=s.getAttribute("href")&&null!=s.getAttribute("href")&&""!=s.getAttribute("href")||(s.setAttribute("href",d),s.setAttribute("download",a),s.click(),s.setAttribute("href",null),s.setAttribute("download","")),this.auth.hideLoader()},t=>{this.auth.hideLoader()})}downloadFailure(t){this.auth.showLoader();let e="/api/v1/bulkUpload/"+this.institute_id+"/download/"+t.list_id;this._http.getData(e).subscribe(e=>{this.auth.hideLoader();var n=e;let i=this.commonService.convertBase64ToArray(n.document),a=(n.format,n.docTitle),o=t.list_id.toString(),r=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(r),s=document.getElementById("failure"+o);null!=s.getAttribute("href")&&null!=s.getAttribute("href")&&""!=s.getAttribute("href")||(s.setAttribute("href",d),s.setAttribute("download",a),s.click(),s.setAttribute("href",null),s.setAttribute("download",""))},t=>{this.auth.hideLoader()})}uploadHandler(t,e){if(-1!=this.filterData.standard_id&&-1!=this.filterData.subject_id){let n=new FormData;Array.from(t.files).map((t,e)=>{n.append("file_"+e,t)});let i=this.auth.getBaseUrl()+"/api/v1/topic_manager/bulkUpload",a=new XMLHttpRequest,o={userid:sessionStorage.getItem("userid"),userType:sessionStorage.getItem("userType"),password:sessionStorage.getItem("password"),institution_id:sessionStorage.getItem("institute_id")},r=btoa(o.userid+"|"+o.userType+":"+o.password+":"+o.institution_id);a.open("POST",i,!0),a.setRequestHeader("Authorization",r),a.setRequestHeader("subject_id",this.filterData.subject_id.toString()),a.setRequestHeader("enctype","multipart/form-data;"),a.setRequestHeader("Accept","application/json, text/javascript"),a.setRequestHeader("Access-Control-Allow-Origin","*"),this.isUploadingXls=!0,a.upload.addEventListener("progress",t=>{t.lengthComputable&&(this.progress=Math.round(100*t.loaded/t.total),document.getElementById("progress-width").style.width=this.progress+"%",this.fileLoading="Topic Data Upload")},!1),a.onreadystatechange=()=>{4==a.readyState&&(this.progress=0,a.status>=200&&a.status<300?(this.isUploadingXls=!1,this.msgService.showErrorMessage(this.msgService.toastTypes.success,"File uploaded Successfully",a.response.fileName),this.filterData.standard_id=-1,this.filterData.subject_id=-1,e.clear()):(this.isUploadingXls=!1,this.msgService.showErrorMessage(this.msgService.toastTypes.error,"Unable to upload file",a.response.fileName)))},a.send(n)}else this.isProfessional?this.msgService.showErrorMessage("error","Please Select  Category/Course and Batch",""):this.msgService.showErrorMessage("error","Please Select standard and subject","")}uploader(t){let e={file:t,file_extn:"xls",comments:"",institute_id:sessionStorage.getItem("institute_id")},n=this.auth.getBaseUrl()+"/api/v1/topic_manager/bulkUpload",i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/json");let a=sessionStorage.getItem("userid"),o=sessionStorage.getItem("userType"),r=sessionStorage.getItem("password"),d=sessionStorage.getItem("institute_id"),s=(this.filterData.subject_id,btoa(a+"|"+o+":"+r+":"+d));i.setRequestHeader("Authorization",s),i.setRequestHeader("enctype","multipart/form-data;"),i.setRequestHeader("Accept","application/json, text/javascript"),this.isUploadingXls=!0,i.upload.addEventListener("progress",t=>{t.lengthComputable&&(this.progress=Math.round(100*t.loaded/t.total),document.getElementById("progress-width").style.width=this.progress+"%",this.fileLoading="Student Data Upload")},!1),i.onreadystatechange=()=>{4==i.readyState&&(this.progress=0,i.status>=200&&i.status<300?(this.isUploadingXls=!1,this.msgService.showErrorMessage(this.msgService.toastTypes.success,"File uploaded Successfully",i.response.fileName)):(this.isUploadingXls=!1,this.msgService.showErrorMessage(this.msgService.toastTypes.error,"Unable to upload file",i.response.fileName)))},i.send(JSON.stringify(e))}genrateReport(t){""!=t.failure_path?this.downloadFailure(t):""!=t.success_path&&this.downloadSuccess(t)}};return t.ctorParameters=()=>[{type:o.Router},{type:d.a},{type:r.a},{type:b.a},{type:s.a}],t.propDecorators={fileUpload:[{type:i.ViewChild,args:["fileUpload",{static:!1}]}]},t=f([Object(i.Component)({selector:"app-topic-bulk-upload",template:m(n("ydqr")).default,styles:[m(n("IO08")).default]}),g("design:paramtypes",[o.Router,d.a,r.a,b.a,s.a])],t),t})();var x=function(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},w=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(t){return t&&t.__esModule?t:{default:t}};let y=(()=>{let t=class{constructor(){}ngOnInit(){}};return t.ctorParameters=()=>[],t=x([Object(i.Component)({selector:"app-topic",template:_(n("VZOS")).default,styles:[_(n("LGGs")).default]}),w("design:paramtypes",[])],t),t})();var j=function(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};const D=[{path:"",component:y,pathMatch:"prefix",children:[{path:"",redirectTo:"home"},{path:"home",component:h},{path:"bulkUpload",component:v}]}];let S=(()=>{let t=class{};return t=j([Object(i.NgModule)({imports:[o.RouterModule.forChild(D)],exports:[o.RouterModule]})],t),t})();var T=function(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r},k=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=function(t){return t&&t.__esModule?t:{default:t}};let L=(()=>{let t=class{constructor(t){this._toastPopup=t,this.eventHandler=new i.EventEmitter,this.editView=new i.EventEmitter,this.disableAddBtn=!1}ngOnInit(){}toggleObject(t){t.isExpand=!t.isExpand,t.isExpand&&this.expandAllTopic(t)}expandAllTopic(t){0!=t.subTopic.length&&t.subTopic.forEach(t=>{t.isExpand=!0,t.subTopic.length>0&&this.expandAllTopic(t)})}addSubtopic(t){if(t.addSubtopic=null==t.addSubtopic?[]:t.addSubtopic,t.addSubtopic.length)t.addSubtopic=[];else{t.addSubtopic=[],t.isExpand=!0;let e=new l.a;e.parent_topic_id=t.topicId,e.estimated_time=t.estimated_time,t.addSubtopic.push(e)}}cancelAdd(t){t.addSubtopic=[]}addEditSubtopicDetails(t,e){if(this.disableAddBtn=!0,""==t.name)return this._toastPopup.showErrorMessage("error","","please add subtopic name"),void(this.disableAddBtn=!1);this.eventAction(e,t)}eventAction(t,e){this.editView.emit({data:e,option:t}),this.disableAddBtn=!1}clearObject(t){t.name=t.topicName,t.isEdit=!t.isEdit}EditSubtopic(t){t.isEdit=!t.isEdit,t.name=t.topicName}};return t.ctorParameters=()=>[{type:s.a}],t.propDecorators={dataList:[{type:i.Input}],eventHandler:[{type:i.Output}],editView:[{type:i.Output}]},t=T([Object(i.Component)({selector:"app-topic-list",template:A(n("Pe5I")).default,styles:[A(n("jx2K")).default]}),k("design:paramtypes",[s.a])],t),t})();var R=n("hGdz"),E=n("3Pt+"),P=n("NGzr"),I=function(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var d=t.length-1;d>=0;d--)(a=t[d])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r};let M=(()=>{let t=class{};return t=I([Object(i.NgModule)({imports:[a.CommonModule,S,E.FormsModule,R.a,P.FileUploadModule],declarations:[y,L,h,v]})],t),t})()},jx2K:function(t,e,n){"use strict";n.r(e),e.default=".subject-wrapper .subject-item {\n  padding: 0.6em;\n}\n\n.subject-wrapper .subject-item .subject-label {\n  margin: 0px;\n  cursor: pointer;\n  padding: 0.6em 1em;\n  font-weight: bold;\n  border-radius: 6px;\n  font-size: 0.95em;\n  border: 1pt solid #eee;\n  background-color: #fff;\n  border-left: 3pt solid #0084f6;\n  box-shadow: 0 1pt 2pt 0 rgba(0, 0, 0, 0.16);\n}\n\n.subject-wrapper .subject-item .border-radius-0 {\n  border-left: 3pt solid #0084f6;\n}\n\n.subject-wrapper .subject-item .border-radius-1 {\n  border-left: 3pt solid #ff9100;\n}\n\n.subject-wrapper .subject-item .border-radius-2 {\n  border-left: 3pt solid  #e75480;\n}\n\n.subject-wrapper .subject-item .border-radius-3 {\n  border-left: 3pt solid #fa3145;\n}\n\n.subject-title {\n  cursor: pointer;\n  font-weight: 900;\n  font-size: 1.4em;\n  margin-bottom: 0.4em;\n}\n\n.pad_icon {\n  padding: 0 10px;\n}\n\n.btn_action {\n  color: #1283f4;\n  font-size: 1.2em;\n}\n\n.btn_delete {\n  color: #fa3145;\n  font-size: 1.2em;\n}\n\n.col-md-12 {\n  padding-right: 0px;\n  padding-left: 0px;\n}\n\n.row {\n  margin-right: 0px;\n  margin-left: 0px;\n}\n\n.dropdown {\n  width: 100%;\n  height: 30px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.btn_delete {\n  padding: 1px 7px;\n  background: white;\n}\n\n.btn_delete .delete_icon {\n  color: red;\n  font-size: 1.1rem;\n}\n\n@media screen and (max-width: 850px) {\n  .subject-label .row.col-md-12.p-0 {\n    margin-top: 20px;\n  }\n}\n"},"r5d/":function(t,e,n){"use strict";n.r(e),e.default='<div class="topic_details">\r\n  <div class="topic_filter_div">\r\n    \x3c!-- <div class="topic_title">Topic</div> --\x3e\r\n  </div>\r\n  <div class="filter_div" style="border-bottom: 1px solid lightgrey;">\r\n    <div class="field-wrapper" style="margin-left:0px">\r\n      <label *ngIf="!isProfessional">Standard<span class="text-danger">*</span></label>\r\n      <label *ngIf="isProfessional">Category/Course<span class="text-danger">*</span></label>\r\n      <div class="dropdown-div">\r\n        <select class="dropdown" [(ngModel)]="filterData.standard_id"\r\n          (change)="getAllSubjectListFromServer($event.target.value)">\r\n          <option value="-1"></option>\r\n          <option *ngFor="let standard of standardData;let i=index; " [value]="standard.standard_id">\r\n            {{standard.standard_name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class="field-wrapper">\r\n      <label *ngIf="!isProfessional">Subject<span class="text-danger">*</span></label>\r\n      <label *ngIf="isProfessional">Batch<span class="text-danger">*</span></label>\r\n      <div class="dropdown-div">\r\n        <select class="dropdown" [(ngModel)]="filterData.subject_id">\r\n          <option value="-1"></option>\r\n          <option *ngFor="let subject of subjectData;let i=index; " [value]="subject.subject_id">\r\n            {{subject.subject_name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <button class="btn fullBlue" style="margin-bottom: 5px;"\r\n      [disabled]="(filterData.standard_id==-1) || (filterData.subject_id==-1)"\r\n      (click)="getTopicDetails(\'view\')">View</button>\r\n    <div class="pull-right">\r\n      <input type="button" [routerLink]="[\'../bulkUpload\']" value="Bulk Upload" class="btn fullBlue"\r\n        style="margin-top: 20px;">\r\n      <button class="btn fullBlue " style="margin-top: 18px;" data-backdrop="static" data-toggle="modal"\r\n        data-target="#addTopic">\r\n        <i class="fa fa-plus" aria-hidden="true" (click)="clearObject()"></i>&nbsp; Add Topic</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="topic_details_view">\r\n  <app-topic-list [dataList]="subjectList" (editView)="eventAction($event)"></app-topic-list>\r\n</div>\r\n\r\n\x3c!-- Modal --\x3e\r\n<div class="modal topic-add-model" id="addTopic" tabindex="-1" role="dialog" aria-hidden="true">\r\n  <div class="modal-dialog" role="document" style="top: 8%;">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h2 class="modal-title" id="addTopic" *ngIf="option_type==\'Add\'">Create New Topic</h2>\r\n        <h2 class="modal-title" id="addTopic" *ngIf="option_type==\'Edit\'">Update Topic</h2>\r\n        <button type="button" class="close" data-dismiss="modal" aria-label="Cancel" (click)="clearObject()">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <div class="model_body_div">\r\n          <div class="field-wrapper">\r\n            <label *ngIf="!isProfessional">Standard Name<span class="text-danger">*</span></label>\r\n            <label *ngIf="isProfessional">Category/Course<span class="text-danger">*</span></label>\r\n            <div class="dropdown-div">\r\n              <select class="dropdown" [(ngModel)]="addTopic.standard_id"\r\n                (change)="getAllSubjectList($event.target.value)">\r\n                <option value="-1"> Select {{isProfessional ? \'Category/Course\' : \'Standard\'}} </option>\r\n                <option *ngFor="let standard of standardData;let i=index; " [value]="standard.standard_id">\r\n                  {{standard.standard_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class="field-wrapper">\r\n            <label *ngIf="!isProfessional">Subject Name<span class="text-danger">*</span></label>\r\n            <label *ngIf="isProfessional">Batch<span class="text-danger">*</span></label>\r\n            <div class="dropdown-div">\r\n              <select class="dropdown" [(ngModel)]="addTopic.subject_id">\r\n                <option value="-1"> Select {{isProfessional ? \'Batch\' : \'Subject\'}} </option>\r\n                <option *ngFor="let subject of subjectTempData;let i=index; " [value]="subject.subject_id">\r\n                  {{subject.subject_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class="field-wrapper">\r\n            <label>Topic Name <span class="text-danger">*</span></label>\r\n            <div class="dropdown-div">\r\n              <input class="dropdown" [(ngModel)]="addTopic.name" type="text" placeholder="  Enter Topic Name" />\r\n            </div>\r\n          </div>\r\n          <div class="field-wrapper">\r\n            <label>Duration (only minutes)</label>\r\n            <div class="dropdown-div">\r\n              <input class="dropdown" maxlength="3" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"\r\n                [(ngModel)]="addTopic.estimated_time" type="text" placeholder="  Enter Estimated Time" />\r\n            </div>\r\n          </div>\r\n          <div class="field-wrapper">\r\n            <label>Priority</label>\r\n            <div class="dropdown-div">\r\n              <input class="dropdown" maxlength="3" onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"\r\n                [(ngModel)]="addTopic.priority_order" type="text" placeholder="Enter Priority of Topic" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary fullBlue" *ngIf="option_type==\'Add\'"\r\n          [disabled]="(addTopic.name==\'\') ||(addTopic.standard_id==-1) || (addTopic.subject_id==-1)"\r\n          (click)="Add_New_Topic_Details()">Save </button>\r\n        <button type="button" class="btn btn-primary fullBlue" *ngIf="option_type==\'Edit\'"\r\n          [disabled]="(addTopic.name==\'\') ||(addTopic.standard_id==-1) || (addTopic.subject_id==-1)"\r\n          (click)="Update_Topic_Details(\'edit\',null)">Update </button>\r\n        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="clearObject()">Cancel</button>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- Delete Modal --\x3e\r\n<div class="modal topic-add-model" style="position: fixed; top: 16em;" id="DeleteTopic" tabindex="-1" role="dialog"\r\n  aria-hidden="true">\r\n  <div class="modal-dialog" role="document">\r\n    <div class="modal-content" style="padding: 1em;">\r\n      <div class="modal-body">\r\n        <div class="model_body_div">\r\n          Are you sure, you want to delete this topic?\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn" style="color: indianred;" [disabled]="disableDeleteBtn"\r\n          (click)="deleteTopicObject()">Delete </button>\r\n        <button type="button" class="btn" data-dismiss="modal" (click)="clearObject()">Cancel</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},"x/tp":function(t,e,n){"use strict";n.r(e),e.default=".btn {\n  font-size: 12px;\n  height: 30px;\n  padding: 1px 12px;\n}\n\n.topic_details {\n  padding: .6em;\n  margin-top: -31px;\n}\n\n.topic_details .topic_filter_div {\n  padding-bottom: 1rem;\n}\n\n.topic_details .topic_filter_div .topic_title {\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.topic_details .filter_div {\n  padding: 1rem;\n  border-radius: 4px;\n}\n\n.topic_details .filter_div .field-wrapper {\n  margin-left: 20px;\n  padding-top: 0;\n  display: inline-block;\n}\n\n.topic_details .filter_div .dropdown-div {\n  width: 160px;\n}\n\n.topic_details .filter_div .dropdown-div .dropdown {\n  width: 100%;\n  height: 30px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.topic_details_view {\n  padding: .6em;\n}\n\n.topic-add-model .modal-dialog {\n  width: 350px;\n}\n\n.topic-add-model .modal-dialog .modal-header {\n  padding: 15px 15px 1px;\n  font-size: 14px;\n}\n\n.topic-add-model .modal-dialog .modal-header .close {\n  margin-bottom: -20px;\n  position: relative;\n  top: -1.0em;\n  font-size: 30px;\n}\n\n.topic-add-model .modal-dialog .modal-body {\n  padding-top: 0px;\n}\n\n.topic-add-model .modal-dialog .modal-body .model_body_div .field-wrapper label {\n  color: #3e3d4a;\n  font-weight: 600;\n}\n\n.topic-add-model .modal-dialog .modal-body .model_body_div .field-wrapper .dropdown-div .dropdown {\n  width: 100%;\n  height: 30px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n::-moz-placeholder {\n  color: #ddd;\n  opacity: 1;\n  /* Firefox */\n}\n\n:-ms-input-placeholder {\n  color: #ddd;\n  opacity: 1;\n  /* Firefox */\n}\n\n::placeholder {\n  color: #ddd;\n  opacity: 1;\n  /* Firefox */\n}\n\noption {\n  width: 20% !important;\n}\n\n@media screen and (max-width: 850px) {\n  .topic_details .topic_filter_div {\n    padding-bottom: 0rem;\n  }\n  .topic_details .filter_div {\n    padding: 0rem;\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n  .topic_details .filter_div .field-wrapper {\n    width: calc((100% - 80px) / 2);\n    margin: 0px;\n  }\n  .topic_details .filter_div .field-wrapper .dropdown-div {\n    width: 100%;\n  }\n  .topic_details .filter_div .btn.fullBlue {\n    margin-bottom: 0px !important;\n    margin: 0px;\n    margin-top: auto;\n  }\n  .topic_details .filter_div .pull-right {\n    float: none !important;\n    margin-left: auto;\n  }\n  .topic_details .filter_div .pull-right .btn.fullBlue {\n    margin-bottom: 10px !important;\n    margin: 0px;\n    margin-top: 10px !important;\n    margin-left: 10px;\n  }\n  #addTopic .btn, #DeleteTopic .btn {\n    margin-bottom: 0px;\n  }\n  .topic-add-model .modal-dialog {\n    width: 96%;\n  }\n}\n"},ydqr:function(t,e,n){"use strict";n.r(e),e.default='<div class=" clearFix">\r\n\r\n  <div class="topic_details">\r\n    <section class="header-section">\r\n      <div>\r\n        <div class="header-title">\r\n          <h2>\r\n            \x3c!-- <a routerLink="/view/course/create/topic/home" style="color: #0084f6;">\r\n              Topic\r\n            </a> --\x3e\r\n            \x3c!-- <i style="font-family: \'FontAwesome\';" class="fas fa-angle-right"></i>  --\x3e\r\n            Bulk Upload\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <br>\r\n    <div class="filter_div" style="border-bottom: 1px solid lightgrey;    margin-top: -50px;">\r\n      <div class="field-wrapper" style="margin-left:0px">\r\n        <label *ngIf="!isProfessional">Standard<span class="text-danger">*</span></label>\r\n        <label *ngIf="isProfessional">Category/Course<span class="text-danger">*</span></label>\r\n        <div class="dropdown-div">\r\n          <select class="dropdown" [(ngModel)]="filterData.standard_id"\r\n            (change)="getAllSubjectListFromServer($event.target.value)">\r\n            <option value="-1"></option>\r\n            <option *ngFor="let standard of standardData;let i=index; " [value]="standard.standard_id">\r\n              {{standard.standard_name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div class="field-wrapper">\r\n        <label *ngIf="!isProfessional">Subject<span class="text-danger">*</span></label>\r\n        <label *ngIf="isProfessional">Batch<span class="text-danger">*</span></label>\r\n        <div class="dropdown-div">\r\n          <select class="dropdown" [(ngModel)]="filterData.subject_id">\r\n            <option value="-1"></option>\r\n            <option *ngFor="let subject of subjectData;let i=index; " [value]="subject.subject_id">\r\n              {{subject.subject_name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      \x3c!-- <button class="btn fullBlue" style="margin-bottom: 5px;" [disabled]="(filterData.standard_id==-1) || (filterData.subject_id==-1)" (click)="getTopicDetails(\'view\')" >Upload</button> --\x3e\r\n      <div class="pull-right">\r\n        <a>\r\n          <input type="button" value="Download Template" class="btn fullBlue" data-backdrop="static"\r\n            (click)="downloadBulkTemplate()" style="margin-top: 18px; font-size: 12px;" />\r\n        </a>\r\n        <a id="template_link" href="#"></a>\r\n        <button class="btn fullBlue" style="margin-top: 18px; font-size: 12px;" (click)="fetchBulkUploadStatusData()">\r\n          Bulk Upload Report\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--====================================middle <Main> section==========================--\x3e\r\n  <section class="middle-main clearFix" id="bulkEnquiryMain">\r\n    <div class="file-upload-box">\r\n      <div class="select-file-upload">\r\n        <h5 style="font-weight: 500;">Select a file to upload</h5>\r\n        <div class="file-wrapper">\r\n          <ul>\r\n            <li>\r\n              \x3c!-- accept="application/vnd.ms-excel" --\x3e\r\n              <p-fileUpload #fileUpload customUpload="true" type="submit"\r\n                (uploadHandler)="uploadHandler($event, fileUpload)" [showCancelButton]="false">\r\n              </p-fileUpload>\r\n\r\n              <div class="uploadProcessAndFileName clearfix" *ngIf="isUploadingXls">\r\n                <div class="file-uploaded">\r\n                  {{fileLoading}}\r\n                </div>\r\n                <div class="progress-bar-wrapper">\r\n                  <div class="upload-bar">\r\n                    <div id="progress-width"></div>\r\n                  </div>\r\n                  <span>{{progress}} %</span>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </section>\r\n\r\n\r\n\r\n  \x3c!-- Download Template Modal --\x3e\r\n  <div class="modal fade" id="downloadTemplate" tabindex="-1" role="dialog" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content" style="padding: 1em;">\r\n        <div class="modal-header">\r\n          <h4 class="modal-title" style="width: 99%;font-weight: 600;">Download Template</h4>\r\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n        </div>\r\n        <div class="modal-body body-container">\r\n          <div class="field-wrapper">\r\n            <label *ngIf="!isProfessional">Standard<span class="text-danger">*</span></label>\r\n            <label *ngIf="isProfessional">Category/Course<span class="text-danger">*</span></label>\r\n            <div class="dropdown-div">\r\n              <select class="dropdown" [(ngModel)]="downloadTempData.standard_id"\r\n                (change)="getAllSubjectListForDownloadTemp($event.target.value)">\r\n                <option value="-1">Select Standard</option>\r\n                <option *ngFor="let standard of standardData;let i=index; " [value]="standard.standard_id">\r\n                  {{standard.standard_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class="field-wrapper">\r\n            <label *ngIf="!isProfessional">Subject<span class="text-danger">*</span></label>\r\n            <label *ngIf="isProfessional">Batch<span class="text-danger">*</span></label>\r\n            <div class="dropdown-div">\r\n              <select class="dropdown" [(ngModel)]="downloadTempData.subject_id">\r\n                <option value="-1">Select Subject</option>\r\n                <option *ngFor="let subject of templateSubjectData;let i=index; " [value]="subject.subject_id">\r\n                  {{subject.subject_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn" data-dismiss="modal">Cancel</button>\r\n          <button type="button" class="btn" (click)="downloadBulkTemplate()">Download </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n  \x3c!-- Bulk Topic Update Status --\x3e\r\n  <div class="modal fade" id="uploadReport" tabindex="-1" role="dialog" aria-hidden="true">\r\n    <div class="modal-dialog " >\r\n      <div class="modal-content" style="padding: 1em;">\r\n        <div class="modal-header">\r\n          <h4 class="modal-title" style="width: 99%;font-weight: 600;">Bulk Topic Update Status</h4>\r\n          <button type="button" style="margin-top: -53px;" class="close" data-dismiss="modal">&times;</button>\r\n        </div>\r\n        <div class="modal-body body-container" style="    margin-top: -36px;">\r\n\r\n          <div class="row">\r\n            <div class="table-v" >\r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Created Date</th>\r\n                    <th>Status</th>\r\n                    \x3c!-- <th>Comments</th> --\x3e\r\n                    <th>Total Count</th>\r\n                    <th>Success</th>\r\n                    <th>Failed</th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor="let record of bulkUploadRecords">\r\n                    <td> <label>Created Date</label>{{record.created_date}}</td>\r\n                    <td> <label>Status</label>{{record.statusValue}}</td>\r\n                    <td>   <label>Total Count</label>{{record.total_count}}</td>\r\n                    <td>\r\n                      <label>Success</label>\r\n                      <a *ngIf="record.success_path != \'\'" id="success{{record.list_id}}">\r\n                        Success\r\n                      </a>\r\n                      <span *ngIf="record.success_path == \'\'">\r\n                        -\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <label>Failed</label>\r\n                      <a *ngIf="record.failure_path != \'\'" id="failure{{record.list_id}}">\r\n                        Fail\r\n                      </a>\r\n                      <span *ngIf="record.failure_path == \'\'">\r\n                        -\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <label>Action</label>\r\n                      <a *ngIf="record.success_path.includes(\'https://s3-\')" style="color: #0084f6;"\r\n                        href="{{record.success_path}}">Generate\r\n                        Report<i class="fa fa-download download-icon" aria-hidden="true"></i></a>\r\n                      <a *ngIf="record.failure_path.includes(\'https://s3-\')" style="color: #0084f6;"\r\n                        href="{{record.failure_path}}">Generate\r\n                        Report<i class="fa fa-download download-icon" aria-hidden="true"></i></a>\r\n                      <a style="color: #0084f6;"\r\n                        *ngIf="record.success_path != \'\' && !record.success_path.includes(\'https://s3-\') "\r\n                        (click)="genrateReport(record)">Generate Report<i class="fa fa-download download-icon"\r\n                          aria-hidden="true"></i></a>\r\n                      <a style="color: #0084f6;"\r\n                        *ngIf="record.failure_path != \'\' && !record.failure_path.includes(\'https://s3-\') "\r\n                        (click)="genrateReport(record)">Generate Report<i class="fa fa-download download-icon"\r\n                          aria-hidden="true"></i></a>\r\n                      <span *ngIf="record.failure_path == \'\' && record.success_path == \'\'">-</span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}}]);