(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{"3KS3":function(e,t,n){"use strict";n.r(t),t.default='<section class="sms-table-wrapper">\r\n\r\n    <div class="filter-item-2">\r\n        <button type="button" name="button" class="add-class-btn" routerLink="/view/website-configuration/slider/add" style="margin-right: 15px;">\r\n          <i class="fa fa-plus" aria-hidden="true"></i>\r\n          &nbsp;\r\n          Add Slider\r\n        </button>\r\n      </div>\r\n    <app-basic-table [headers]="headerSetting" [displayData]="staticPageData" [tableSetting]="tableSetting"\r\n      [rowColumnSetting]="rowColumns" (editView)=\'editRow($event)\' (deleteView)=\'deleteRow($event)\'>\r\n    </app-basic-table>\r\n    <div style="padding-top: 9px;">\r\n      <pagination (goPage)="fetchTableDataByPage($event)" (goNext)="fetchNext()" (goPrev)="fetchPrevious()"\r\n        [pagesToShow]="10" [page]="pageIndex" [perPage]="displayBatchSize" [sizeArr]="sizeArr" [count]="totalRecords"\r\n        (sizeChange)="updateTableBatchSize($event)">\r\n      </pagination>\r\n    </div>\r\n\r\n\r\n  </section>\r\n'},P5lL:function(e,t,n){"use strict";n.r(t),t.default='<div class="container-fluid product-wrapper p-0" style="padding-top: 2px;padding: 1%;">\r\n\r\n    <div class="row">\r\n        <div class="col-md-12">\r\n            <div class="row">\r\n                <div class="col-md-12 form-group">\r\n                    <label class="text-bold"> Title\r\n                        <span class="text-danger">*</span>\r\n                    </label>\r\n                    <input type="text" placeholder="Title" [(ngModel)]="pageModel.name"\r\n                        class="form-control form-control-sm">\r\n                </div>\r\n\r\n                <div class="col-md-12 form-group">\r\n                    <label class="text-bold"> Order number\r\n                        <span class="text-danger">*</span>\r\n                    </label>\r\n                    <input type="number" placeholder="Order number" [(ngModel)]="pageModel.order_number"\r\n                        class="form-control form-control-sm">\r\n                </div>\r\n\r\n                <div class="col-md-12">\r\n                    <div class="col-md-12 form-group" style="padding-right: 0px;padding-left: 0px;width: 100%;">\r\n                        <label class="text-bold">Content</label>\r\n                        <editor #editor [init]="editorConf" apiKey="xix5hq71alw64jp2ufl9fo6nddnhg91n6h7w2afn043v538t"\r\n                            [(ngModel)]="pageModel.content" placeholder="Content">\r\n                        </editor>\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <div class="col-md-12 form-group">\r\n                    <label class="text-bold"> Upload Image (Size (Width * Height) : 420px * 420px)\r\n                        <span class="text-danger">*</span>\r\n                    </label>\r\n                    <input type="file" class="form-control form-control-sm"\r\n                        [disabled]="pageModel.image_url!=\'\' && pageModel.image_url!=null" id="uploadFileControl"\r\n                        name="uploadFileBox" accept="image/*" [(ngModel)]="pageModel.image" />\r\n                </div>\r\n\r\n                <div class="col-md-12" style="margin-bottom: 15px;width: 50%;"\r\n                    *ngIf="selectedPageId && pageModel.image_url!=\'\' && pageModel.image_url!=null">\r\n                    <div class="c-md-6" style="padding: 0;margin-top: 1%;margin-right: 5px;">\r\n                        <label class="text-bold"> Uploaded Image</label>\r\n                        <img style="width: 24%;vertical-align: middle;margin-left: 25px;" src="{{pageModel.image_url}}">\r\n                    </div>\r\n                    <div class="c-md-1 clearFile" (click)="clearFile()">X</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="go-btn-container">\r\n                <button type="button" name="button" class="fullBlue add-class-btn" (click)="cancel()">Cancel</button>\r\n                <button type="button" name="button" class="fullBlue gobtn" (click)="saveData()"\r\n                    [disabled]="auth.isRippleLoad.getValue()">Save</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},PPPA:function(e,t,n){"use strict";n.r(t),n.d(t,"SliderModule",(function(){return O}));var r=n("fXoL"),a=n("ofXK"),i=n("tyNb"),o=n("xf7K"),s=n("S3Px"),l=n("oWFQ"),d=n("jhN1"),c=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e){return e&&e.__esModule?e:{default:e}};let g=(()=>{let e=class{constructor(e,t,n,r,a){this.httpService=e,this.auth=t,this.router=n,this.msgService=r,this.sanitizer=a,this.sizeArr=[25,50,100,150,200,500,1e3],this.pageIndex=1,this.totalRecords=0,this.displayBatchSize=25,this.staticPageData=[],this.staticPageDataSouece=[]}ngOnInit(){this.setTableData(),this.getStaticPageData()}setTableData(){this.headerSetting=[{primary_key:"order_number",value:"Order Number",charactLimit:25,sorting:!0,visibility:!0},{primary_key:"name",value:"Title",charactLimit:25,sorting:!0,visibility:!0},{primary_key:"text_content",value:"Content",charactLimit:5,sorting:!1,visibility:!0},{primary_key:"action",value:"Action",charactLimit:10,sorting:!1,visibility:!0,edit:!0,delete:!0}],this.tableSetting={width:"100%",height:"58vh"},this.rowColumns=[{width:"15%",textAlign:"left"},{width:"25%",textAlign:"left"},{width:"35%",textAlign:"left"},{width:"25%",textAlign:"left"}]}getStaticPageData(){this.auth.showLoader(),this.httpService.getMethod("/api/v2/website/slider/institute/"+sessionStorage.getItem("institute_id"),null).subscribe(e=>{this.auth.hideLoader(),this.staticPageDataSouece=e.result,this.staticPageDataSouece&&this.staticPageDataSouece.length&&this.staticPageDataSouece.forEach(e=>{if(e.text_content="",e.content){var t=(new DOMParser).parseFromString(e.content,"text/html");e.text_content=t.body.innerText}}),this.totalRecords=this.staticPageDataSouece.length,this.staticPageData=this.getDataFromDataSource(0)},e=>{this.auth.hideLoader()})}fetchTableDataByPage(e){this.pageIndex=e;let t=this.displayBatchSize*(e-1);this.staticPageData=this.getDataFromDataSource(t)}fetchNext(){this.pageIndex++,this.fetchTableDataByPage(this.pageIndex)}fetchPrevious(){1!=this.pageIndex&&(this.pageIndex--,this.fetchTableDataByPage(this.pageIndex))}getDataFromDataSource(e){return this.staticPageDataSouece.slice(e,e+this.displayBatchSize)}updateTableBatchSize(e){this.pageIndex=1,this.displayBatchSize=e,this.fetchTableDataByPage(this.pageIndex)}editRow(e){console.log(e.data),sessionStorage.setItem("slider_data",JSON.stringify(e.data)),this.router.navigate(["view/website-configuration/slider/edit/"+e.data.id])}deleteRow(e){this.auth.showLoader(),this.httpService.deleteFile("/prod/api/v2/website/slider/"+e.data.id).subscribe(e=>{this.auth.hideLoader(),this.msgService.showErrorMessage("success","","Slider Deleted Successfully"),this.getStaticPageData()},e=>{this.auth.hideLoader()})}};return e.ctorParameters=()=>[{type:s.a},{type:o.a},{type:i.Router},{type:l.a},{type:d.DomSanitizer}],e=c([Object(r.Component)({selector:"app-list",template:u(n("3KS3")).default,styles:[u(n("wug8")).default]}),p("design:paramtypes",[s.a,o.a,i.Router,l.a,d.DomSanitizer])],e),e})();var h=n("9cwZ"),f=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e){return e&&e.__esModule?e:{default:e}};let x=(()=>{let e=class{constructor(e,t,n,r,a){this.routeParam=e,this.auth=t,this.productService=n,this.msgService=r,this.router=a,this.selectedPageId="",this.pageModel={name:"",content:"",order_number:"",image:""},this.editorConf={height:250,menubar:!1,branding:!1,plugins:["preview anchor","visualblocks code ","insertdatetime  table paste code  wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |               alignleft aligncenter alignright alignjustify |               bullist numlist outdent indent"},this.routeParam.params.subscribe(e=>{this.selectedPageId=e.id}),console.log(this.selectedPageId)}ngOnInit(){this.selectedPageId&&(this.pageModel=JSON.parse(sessionStorage.getItem("slider_data")))}ngOnDestroy(){sessionStorage.removeItem("slider_data")}getCharCount(){return this.editor.editor.plugins.wordcount.body.getCharacterCount()}checkValidation(e){return!!e||(!(!this.selectedPageId||""==this.pageModel.image_url)||(this.msgService.showErrorMessage("error","","Please select Image"),!1))}cancel(){this.router.navigate(["view/website-configuration/slider/list"])}saveData(){let e=document.getElementById("uploadFileControl").files[0];if(console.log(e),this.checkValidation(e))if(""!=this.pageModel.name&&null!=this.pageModel.name)if(""!=this.pageModel.order_number&&null!=this.pageModel.order_number)if(""==this.pageModel.content||this.getCharCount()<=300){const t=new FormData;let n={institute_id:sessionStorage.getItem("institute_id"),name:this.pageModel.name,content:this.pageModel.content,order_number:this.pageModel.order_number};this.selectedPageId&&(n.id=this.selectedPageId,n.image_url=this.pageModel.image_url),t.append("data",JSON.stringify(n)),e&&t.append("file",e);let r=this.auth.getBaseUrl(),a=this.selectedPageId?r+"/prod/api/v2/website/slider/update":r+"/prod/api/v2/website/slider/create",i=new XMLHttpRequest,o={userid:sessionStorage.getItem("userid"),userType:sessionStorage.getItem("userType"),password:sessionStorage.getItem("password"),institution_id:sessionStorage.getItem("institute_id")},s=btoa(o.userid+"|"+o.userType+":"+o.password+":"+o.institution_id);this.selectedPageId?i.open("PUT",a,!0):i.open("POST",a,!0),i.setRequestHeader("Authorization",s),i.setRequestHeader("x-proc-authorization",s),i.setRequestHeader("x-prod-inst-id",sessionStorage.getItem("institute_id")),i.setRequestHeader("x-prod-user-id",sessionStorage.getItem("userid")),i.setRequestHeader("enctype","multipart/form-data;"),i.setRequestHeader("Accept","application/json, text/javascript"),i.setRequestHeader("Access-Control-Allow-Origin","*"),this.auth.isRippleLoad.getValue()||(this.auth.showLoader(),i.onreadystatechange=()=>{if(this.auth.hideLoader(),4==i.readyState)if(i.status>=200&&i.status<300){let e=this.selectedPageId?"Slider Updated successfully":"Slider Added Successfully";this.msgService.showErrorMessage(this.msgService.toastTypes.success,"",e),this.cancel()}else this.msgService.showErrorMessage(this.msgService.toastTypes.error,"",JSON.parse(i.response).message)},i.send(t))}else this.msgService.showErrorMessage("error","","Please enter slider content of maximum 300 characters");else this.msgService.showErrorMessage("error","","Please enter order number");else this.msgService.showErrorMessage("error","","Please enter title")}clearFile(){this.pageModel.image_url=""}};return e.ctorParameters=()=>[{type:i.ActivatedRoute},{type:h.b},{type:s.a},{type:h.i},{type:i.Router}],e.propDecorators={editor:[{type:r.ViewChild,args:["editor"]}]},e=f([Object(r.Component)({selector:"app-add-edit",template:b(n("P5lL")).default,styles:[b(n("uYmG")).default]}),m("design:paramtypes",[i.ActivatedRoute,h.b,s.a,h.i,i.Router])],e),e})();var y=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},w=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e){return e&&e.__esModule?e:{default:e}};let S=(()=>{let e=class{constructor(){}ngOnInit(){}};return e.ctorParameters=()=>[],e=y([Object(r.Component)({selector:"app-slider",template:v(n("xE1k")).default,styles:[v(n("p5a6")).default]}),w("design:paramtypes",[])],e),e})();var P=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};const R=[{path:"",component:S,pathMatch:"prefix",children:[{path:"slider",component:S},{path:"list",component:g},{path:"add",component:x},{path:"edit/:id",component:x}]}];let M=(()=>{let e=class{};return e=P([Object(r.NgModule)({imports:[i.RouterModule.forChild(R)],exports:[i.RouterModule]})],e),e})();var D=n("hGdz"),I=n("fB2i"),_=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};let O=(()=>{let e=class{};return e=_([Object(r.NgModule)({declarations:[g,x,S],imports:[a.CommonModule,M,D.a,I.a]})],e),e})()},p5a6:function(e,t,n){"use strict";n.r(t),t.default=".product-wrapper {\n  width: 100%;\n}\n\n.product-wrapper .row {\n  margin: 0;\n}\n"},uYmG:function(e,t,n){"use strict";n.r(t),t.default='.product-wrapper {\n  padding: 1%;\n  width: 100%;\n}\n\n.row {\n  margin: 0;\n  font-size: 12px;\n  padding-bottom: 20px;\n}\n\n.row .form-control {\n  border: 1px solid #e0e0e0;\n  padding: 6px;\n  border-radius: 4px;\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  outline: none;\n  background: #fff;\n  font: 400 12px "Open sans", sans-serif;\n  box-shadow: none;\n  color: #000;\n}\n\n.row input[type="radio"] {\n  -webkit-appearance: radio;\n     -moz-appearance: radio;\n          appearance: radio;\n  width: 1%;\n  float: left;\n}\n\n.row .go-btn-container {\n  display: flex;\n  flex-direction: row;\n  font-size: 12px;\n  color: #3e3d4a;\n  width: auto;\n  justify-content: center;\n}\n\n.row .go-btn-container .gobtn {\n  border: 1px solid #3a66fa;\n  border-radius: 4px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  padding: 4px 10px;\n  background: #3a66fa;\n  color: #ffffff;\n  font-weight: 600;\n  height: 30px;\n  margin-top: 15px;\n  font-size: 14px;\n}\n\n.row .go-btn-container .add-class-btn {\n  border: 1px solid #3a66fa;\n  border-radius: 4px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  padding: 4px 10px;\n  background: white;\n  color: #1283f4;\n  font-size: 14px;\n  font-weight: 600;\n  height: 30px;\n  margin-top: 15px;\n  margin-right: 2%;\n}\n\n.row .dropdown-list {\n  max-height: 197px;\n  overflow-y: hidden;\n}\n\n.form-group {\n  width: 50%;\n  float: left;\n}\n\n.clearFile {\n  padding: 5px;\n  width: 4%;\n  margin-top: 10px;\n  color: white;\n  cursor: pointer;\n  border: 1px solid;\n  font-weight: 600;\n  background: red;\n}\n\nlabel {\n  margin-bottom: 10px;\n}\n'},wug8:function(e,t,n){"use strict";n.r(t),t.default=".sms-table-wrapper {\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n.filter-item-2 {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.filter-item-2 .add-class-btn {\n  border: 1px solid #3a66fa;\n  border-radius: 4px;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.16);\n  padding: 4px 10px;\n  background: white;\n  color: #1283f4;\n  font-size: 14px;\n  font-weight: 600;\n  height: 30px;\n}\n"},xE1k:function(e,t,n){"use strict";n.r(t),t.default='<div class="container-fluid product-wrapper p-0">\r\n    <div class="row m-0 pt-3 pb-3" style="border-bottom: 1px solid #ccc;margin-bottom: 15px;">\r\n        <div class="col-md-8" style="padding-left: 0;">\r\n            <section class="middle-top clearFix bulk-header">\r\n                <div>\r\n                    <h1 class="pull-left" style="margin-bottom: 10px;">\r\n                        <a routerLink="/view/website-configuration/images" style="padding:0px; ">\r\n                            Website/ App\r\n                        </a>\r\n                        <i style="font-family: \'FontAwesome\';" class="fas fa-angle-right"></i>\r\n                        <span>Slider</span>\r\n                    </h1>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n<router-outlet></router-outlet>\r\n\r\n'}}]);