(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"4aXj":function(t,e,n){"use strict";n.r(e),e.default=".container-fluid {\n  color: #797979;\n  padding-top: 10px;\n}\n\n.container-fluid .border-css {\n  border: 1px solid rgba(211, 212, 213, 0.5);\n}\n\n.container-fluid table thead {\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.container-fluid table thead tr th {\n  color: #797979;\n}\n\n.container-fluid table thead tr td {\n  color: #dbdbdb;\n}\n\n.container-fluid table thead tr .total_price {\n  color: #585574;\n}\n\n.container-fluid .btn-buy {\n  border-radius: .25rem;\n}\n\n.container-sms {\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n}\n\n.container-sms .allocate-sms {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid gray;\n}\n\n.btn {\n  border-radius: .25rem;\n}\n\n.firstTh {\n  text-align: left;\n  padding-left: 18px;\n}\n\n.sms-title {\n  font-size: 14px;\n  font-weight: 600;\n  padding-left: 1rem;\n}\n\n.filter-section {\n  padding: 10px 0px;\n  margin: 5px 0;\n  background: #efefef;\n}\n\n.filter-section .radio-button {\n  margin-top: 10px;\n  display: inline-flex;\n}\n\n.filter-section .radio-button .field-radio-wrapper {\n  margin-right: 5px;\n}\n\n.filter-section .field-wrapper {\n  padding-top: 0;\n}\n\n.filter-section .btn {\n  margin-left: 0;\n}\n"},LBTi:function(t,e,n){"use strict";n.r(e),e.default=".container-sms {\n  padding: 10px;\n}\n\n.container-sms .title {\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.container-sms .allocate-sms {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid gray;\n}\n\n.container-sms .allocate-sms .btn {\n  border-radius: .25rem;\n}\n\n.sms-title {\n  font-size: 14px;\n  font-weight: 600;\n  padding-left: 1rem;\n}\n"},VbDl:function(t,e,n){"use strict";n.r(e),e.default="\r\n  <router-outlet></router-outlet>"},X49d:function(t,e,n){"use strict";n.r(e),e.default='<div class=" container-fluid">\r\n  <div class="container-sms">\r\n    <h1 class="pull-left">\r\n      <a routerLink="/view/dashboard/admin">\r\n        Dashboard\r\n      </a>\r\n      <i style="font-family: \'FontAwesome\';" class="fas fa-angle-right"></i> Buy SMS\r\n    </h1>\r\n    <div class="allocate-sms">\r\n      <input type="button" [ngClass]="{\'fullBlue\': type==\'Transactional\'}" style="margin-left: 0px;" class="btn" value="Transactional" (click)="changeType(\'Transactional\')">\r\n      <input type="button" class="btn" [ngClass]="{\'fullBlue\': type==\'Promotional\'}" (click)="changeType(\'Promotional\')" value="Promotional">\r\n    </div>\r\n  </div>\r\n  <div class="sms-title">SMS Plan</div>\r\n  <div class="container-fluid">\r\n    <table class="table table-hover">\r\n      <thead class="border-css">\r\n        <tr>\r\n          <th class="firstTh"> Total SMS</th>\r\n          <th> Price (Per SMS in Paisa)</th>\r\n          <th>Tax(%)</th>\r\n          <th>Total Price in Rs.</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let smsDetails  of transactionSMS; let i =index">\r\n          <td>\r\n            <div class="c-sm-1 c-md-1 c-lg-1">\r\n              <div class="field-radio-wrapper">\r\n                <input type="radio" name="bothRadio" [id]="\'bothRadio-\'+i" class="form-radio" [value]="i" [(ngModel)]="radioSelected">\r\n                <label [for]="\'bothRadio-\'+i">{{smsDetails.total_sms}}</label>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td>{{smsDetails.price}}</td>\r\n          <td>{{smsDetails.tax}}</td>\r\n          <td class="total_price">{{smsDetails.total_price | number}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div class="text-right">\r\n      <input type="button" class="btn" routerLink="/view/dashboard/admin" value="Back">\r\n      <input type="button" class="btn fullBlue btn-buy" (click)="openRazorpayCheckout()" value="Buy Now">\r\n    </div>\r\n  </div>\r\n</div>'},ibxr:function(t,e,n){"use strict";n.r(e),n.d(e,"AllocateSmsModule",(function(){return S}));var r=n("fXoL"),a=n("ofXK"),o=n("xf7K"),i=n("N+K7"),l=n("oWFQ"),s=function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(t){return t&&t.__esModule?t:{default:t}};let p=(()=>{let t=class{constructor(t,e,n,r){this.apiService=t,this.auth=e,this._msgService=n,this.zone=r,this.type="Transactional",this.radioSelected=0,this.transactionSMS=[{total_sms:5e3,price:15,tax:18,total_price:885},{total_sms:1e4,price:15,tax:18,total_price:1770},{total_sms:25e3,price:15,tax:18,total_price:4425},{total_sms:5e4,price:15,tax:18,total_price:8850},{total_sms:1e5,price:14,tax:18,total_price:16520}],this.auth.currentInstituteId.subscribe(t=>{this.institute_id=t})}ngOnInit(){}changeType(t){this.type=t}openRazorpayCheckout(){var t=this;let e={key:"rzp_live_ZAmgveArrf1mQO",amount:100*this.transactionSMS[this.radioSelected].total_price,name:"Proctur ",description:"Eduspace Technologies Pvt. Ltd",theme:{color:"blue"},handler:this.paymentResponseHander.bind(this),modal:{ondismiss:function(){t.paymentCancelled()}}};new Razorpay(e).open()}paymentCancelled(){console.log("Payment Cancelled Called")}paymentResponseHander(t){let e={sms_quota_allocated:this.transactionSMS[this.radioSelected].total_sms,sms_type:this.type};this.apiService.putData("/api/v1/institute/SMS/transaction/buyOnline/"+this.institute_id,e).subscribe(t=>{console.log(t),this.zone.run(()=>{this._msgService.showErrorMessage("success","","SMS successfully added in your account")})},t=>{console.log(t),this.zone.run(()=>{this._msgService.showErrorMessage("error","","Something went wrong please try again and if your payment deducted from your account it will be added in your account within 5 to 6 days ")})})}};return t.ctorParameters=()=>[{type:i.a},{type:o.a},{type:l.a},{type:r.NgZone}],t=s([Object(r.Component)({selector:"app-transactional",template:d(n("X49d")).default,styles:[d(n("4aXj")).default]}),c("design:paramtypes",[i.a,o.a,l.a,r.NgZone])],t),t})();var u=function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},f=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(t){return t&&t.__esModule?t:{default:t}};let h=(()=>{let t=class{constructor(){}ngOnInit(){}};return t.ctorParameters=()=>[],t=u([Object(r.Component)({selector:"app-allocate-sms",template:m(n("VbDl")).default,styles:[m(n("LBTi")).default]}),f("design:paramtypes",[])],t),t})();var b=n("tyNb"),y=function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};let g=(()=>{let t=class{};return t=y([Object(r.NgModule)({imports:[b.RouterModule.forChild([{path:"",component:h,pathMatch:"prefix",children:[{path:"sms-details",component:p,pathMatch:"prefix"}]}])],exports:[b.RouterModule]})],t),t})();var v=n("3Pt+"),x=function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};let S=(()=>{let t=class{};return t=x([Object(r.NgModule)({imports:[a.CommonModule,v.FormsModule,v.ReactiveFormsModule,g],declarations:[p,h]})],t),t})()}}]);